<?xml version="1.0" encoding="utf-8"?>
<renderingStyle name="OpenFietsMap.render" depends="default" defaultColor="#ebe7e4" version="1">

<!--
	HvdW, 20140507, Detach the OpenFietsMap render style from the cycle map and make it a separate render file

	HvdW, 20131030, Added OpenfietsMap style rendering
	- Added OpenfietsMap style rendering as complete as possible
	- Made a lot of the lcn, rcn and ncn "overlay" ways a lot narrower as they were really coarse.

 	HvdW, 20130728, minor changes 
    	- Add rendering property NumberInPath. Cycle network number perpendicular on route or "textonpath". some like it one way, some the other.
	- minor changes in strokewidth and text size

	HvdW, 20130609, cyclemap
	- Copy the "showCycleRoutes" stuff from the "Touring-view_(more-contrast-and-details).render" file
	  (thanks to Hardy Mueller and Christof Knuesel)
	- cycle routes are no longer a renderingproperty but an integral part of the map
	- modify some of the colors to look more like the OpenCycleMap colors
	- slightly larger fonts for the cycleways
-->

	<!-- Use hmRendered for more map detail and better visibility of small roads -->
	<renderingConstant name="hmRendered" value="true"/>

	<!-- Surface=paved same color as asphalt -->
	<renderingConstant name="surfacePavedColor" value="#eae6f3"/>

	<renderingConstant name="cyclewayMinZoom" value="11"/>

	<renderingAttribute name="gpx">
		<switch>
			<case currentTrackColor="red" color="#ff0000"/>
			<case currentTrackColor="orange" color="#ff7200"/>
			<case currentTrackColor="lightblue" color="#2ec6ff"/>
			<case currentTrackColor="blue" color="#4e4eff"/>
			<case currentTrackColor="purple" color="#a71de1"/>
			<case currentTrackColor="translucent_red" color="#aaff0000"/>
			<case currentTrackColor="translucent_orange" color="#aaff7200"/>
			<case currentTrackColor="translucent_lightblue" color="#aa00ffff"/>
			<case currentTrackColor="translucent_blue" color="#aa4e4eff"/>
			<case currentTrackColor="translucent_purple" color="#aaa71de1"/>
			<case color="#000000">
				<apply_if roadStyle="germanRoadAtlas" color="#aa0088"/> <!-- does not works -->
			</case>
			<apply cap="ROUND">
				<case currentTrackWidth="thin">
					<apply_if minzoom="3" maxzoom="5" strokeWidth="1"/>
					<apply_if minzoom="6" strokeWidth="2"/>
					<apply_if additional="routePoints=true" pathEffect="5_4"/>
				</case>
				<case currentTrackWidth="medium">
					<apply_if minzoom="3" maxzoom="5" strokeWidth="1"/>
					<apply_if minzoom="6" maxzoom="11" strokeWidth="3"/>
					<apply_if minzoom="12" strokeWidth="5"/>
					<apply_if additional="routePoints=true" pathEffect="8_7"/>
				</case>
				<case currentTrackWidth="bold">
					<apply_if minzoom="3" maxzoom="5" strokeWidth="1"/>
					<apply_if minzoom="6" maxzoom="7" strokeWidth="3"/>
					<apply_if minzoom="8" maxzoom="9" strokeWidth="5"/>
					<apply_if minzoom="10" maxzoom="11" strokeWidth="7"/>
					<apply_if minzoom="12" strokeWidth="11"/>
					<apply_if additional="routePoints=true" pathEffect="8_15"/>
				</case>
				<case>
					<apply_if minzoom="3" maxzoom="5" strokeWidth="1"/>
					<apply_if minzoom="6" strokeWidth="2"/>
					<apply_if additional="routePoints=true" pathEffect="5_4"/>
				</case>
			</apply>
		</switch>
	</renderingAttribute>
	
	<renderingAttribute name="pedestrianTextColor">
		<case attrColorValue="#000000" textBold="false">
		<case tag="area:highway" value="pedestrian" textBold="false" textItalic="false" textWrapWidth="15" intersectsWith="any"/>
      <apply_if nightMode="true" attrColorValue="#BDBDBD"/>
		</case>
	</renderingAttribute>
	
	<renderingAttribute name="residentialTextColor">
		<case attrColorValue="#000000" textBold="false">
		<case tag="area:highway" value="residential" textBold="false" textItalic="false" textWrapWidth="15" intersectsWith="any"/>
		<case tag="area:highway" value="unclassified" textBold="false" textItalic="false" textWrapWidth="15" intersectsWith="any"/>
      <apply_if nightMode="true" attrColorValue="#ffffff"/>
		</case>
	</renderingAttribute>
	
	<renderingAttribute name="serviceTextColor">
		<case attrColorValue="#000000" textBold="false">
		<case tag="area:highway" value="service" textBold="false" textItalic="false" textWrapWidth="15" intersectsWith="any"/>
      <apply_if nightMode="true" attrColorValue="#ffffff"/>
		</case>
	</renderingAttribute>
	
	<renderingAttribute name="racewayColor">
		<case attrColorValue="#f0f5f5">
      <apply_if nightMode="true" attrColorValue="#bfaa69"/>
		</case>
	</renderingAttribute>
	
	<renderingConstant name="waterColorDay" value="#5cc3e5"/>
	
	<renderingAttribute name="waterwayArrows">
    <case moreDetailed="false" attrIntValue="0"/>
	</renderingAttribute>
	
	<renderingAttribute name="cyclewayColor">
		<case attrColorValue="#FF0000">
			<apply_if nightMode="true" attrColorValue="#FF0000"/>
		</case>	
	</renderingAttribute>

	<renderingAttribute name="cycleRouteTextColor">
		<case attrColorValue="#0000ff">
			<apply_if nightMode="true" attrColorValue="#D9E6FF"/>
		</case>
	</renderingAttribute>

	<renderingAttribute name="cycleRouteTextHaloColor">
		<case attrColorValue="#ddffffff">
			<apply_if nightMode="true" attrColorValue="#dd1D1787"/>
		</case>
	</renderingAttribute>

	<renderingAttribute name="cycleRoutelcnColor">
		<case engine_v1="false" attrColorValue="#45cc66ff"/>
		<case attrColorValue="#90cc33ff" pathEffect="6_9">
			<apply_if nightMode="true" attrColorValue="#80cc66ff"/>
		</case>
	</renderingAttribute>

	<renderingAttribute name="cycleRoutercnColor">
		<case engine_v1="false" attrColorValue="#45ff33cc"/>
		<case attrColorValue="#900000ff" pathEffect="6_9">
			<apply_if nightMode="true" attrColorValue="#70ff33cc"/>
		</case>
	</renderingAttribute>

	<renderingAttribute name="cycleRoutencnColor">
		<case engine_v1="false" attrColorValue="#456600ff"/>
		<case attrColorValue="#906600ff" pathEffect="6_9">
			<apply_if nightMode="true" attrColorValue="#706600ff"/>
		</case>
	</renderingAttribute>

	<renderingAttribute name="cycleRouteicnColor">
		<case engine_v1="false" attrColorValue="#456600ff"/>
		<case attrColorValue="#906600ff" pathEffect="6_9">
			<apply_if nightMode="true" attrColorValue="#706600ff"/>
		</case>
	</renderingAttribute>

  <renderingAttribute name="cycleRouteColor">
		<case attrColorValue="#900000ff" pathEffect="6_9">
			<apply_if nightMode="true" attrColorValue="#900000ff"/>
		</case>
	</renderingAttribute>

	<renderingAttribute name="cycleNodeTextColor">
		<case attrColorValue="#0000ff">
			<apply_if nightMode="true" attrColorValue="#578AEC"/>
		</case>
	</renderingAttribute>

	<renderingAttribute name="trackColor">
		<case attrColorValue="#996600">
			<apply_if nightMode="true" attrColorValue="#996600"/>
		</case>
	</renderingAttribute>
	
	<renderingAttribute name="railwayRailColor">
		<case nightMode="true" attrColorValue="#25454d"/>
		<case attrColorValue="#506c73"/>
	</renderingAttribute>

	<renderingConstant name="constructionRoadColor" value="#BD9500"/>

	<renderingConstant name="constructionRoadColor2" value="#ffffff"/>

	<order>
		<group appMode="bicycle">
			<filter tag="lcn_network" value="lcn" order="112"/>
			<filter tag="rcn_network" value="rcn" order="111"/>
			<filter tag="ncn_network" value="ncn" order="110"/>
			<filter tag="icn_network" value="icn" order="110"/>
			<groupFilter>
				<filter point="true" objectType="1" order="74"/>
			</groupFilter>
		</group>
	</order>
	
	<renderingAttribute name="tertiaryRoadColor">
		<case baseAppMode="bicycle" additional="cyclestreet=yes" attrColorValue="#ff8080"/>
		<case baseAppMode="bicycle" additional="bicycle_road=yes" attrColorValue="#ff8080"/>
	</renderingAttribute>
	
	<renderingAttribute name="residentialRoadColor">
		<case baseAppMode="bicycle" additional="cyclestreet=yes" attrColorValue="#ff8080"/>
		<case baseAppMode="bicycle" additional="bicycle_road=yes" attrColorValue="#ff8080"/>
	</renderingAttribute>
	
	<renderingAttribute name="serviceRoadColor">
		<case baseAppMode="bicycle" additional="cyclestreet=yes" attrColorValue="#ff8080"/>
		<case baseAppMode="bicycle" additional="bicycle_road=yes" attrColorValue="#ff8080"/>
	</renderingAttribute>	
	
	<text>
		<group appMode="bicycle">
			<filter NodeNumber="false" tag="lcn_network" value="lcn" nameTag="lcn_ref" textColor="#000000" textOrder="9"/> 
			<filter NodeNumber="false" tag="rcn_network" value="rcn" nameTag="rcn_ref" textColor="#0000ff" textOrder="8"/>
			<filter NodeNumber="false" tag="ncn_network" value="ncn" nameTag="ncn_ref" textColor="#9933ff" textOrder="7"/>
			<filter NodeNumber="false" tag="icn_network" value="icn" nameTag="icn_ref" textColor="#9933ff" textOrder="7"/>
			
			<filter tag="lcn_network" value="lcn" nameTag="ref" textColor="#000000" textOrder="9"/>
			<filter tag="rcn_network" value="rcn" nameTag="ref" textColor="#0000ff" textOrder="8"/>
			<filter tag="ncn_network" value="ncn" nameTag="ref" textColor="#9933ff" textOrder="7"/>
			<filter tag="icn_network" value="icn" nameTag="ref" textColor="#9933ff" textOrder="7"/>

			<filter tag="network" value="lcn" nameTag="lcn_ref" textColor="#000000" textOrder="9"/> 
			<filter tag="network" value="rcn" nameTag="rcn_ref" textColor="#0000ff" textOrder="8"/>
			<filter tag="network" value="ncn" nameTag="ncn_ref" textColor="#9933ff" textOrder="7"/>
			<filter tag="network" value="icn" nameTag="icn_ref" textColor="#9933ff" textOrder="7"/>
			<filter tag="lcn_ref" value="" textColor="#000000" textOrder="9"/>
			<filter tag="rcn_ref" value="" textColor="#0000ff" textOrder="8"/>
			<filter tag="ncn_ref" value="" textColor="#9933ff" textOrder="7"/>
			<filter tag="icn_ref" value="" textColor="#9933ff" textOrder="7"/>
			<groupFilter NumberInPath="true" appMode="bicycle" textOnPath="true" />
			<groupFilter appMode="bicycle">
				<filter minzoom="10" maxzoom="10" textHaloRadius="1" textSize="6"/>
				<filter minzoom="11" maxzoom="12" textHaloRadius="1" textSize="10"/>
				<filter minzoom="13" maxzoom="15" textBold="true" textHaloRadius="2" textSize="12"/>
				<filter minzoom="16" maxzoom="17" textBold="true" textHaloRadius="4" textWrapWidth="30" textSize="20"/>
				<filter minzoom="18" textBold="true" textHaloRadius="4" textSize="25"/>
			</groupFilter>
			<groupFilter textColor="#0000ff"/>
		</group>

    <switch minzoom="11" legend="false" textBold="true">
      <case showCycleRoutes="true" tag="multiple_node_networks" value="true" nameTag="lcn_ref_value" textOrder="37"/> 
      <case showCycleNodeNetworkRoutes="true" tag="multiple_node_networks" value="true" nameTag="lcn_ref_value" textOrder="37"/>  
      <case showCycleRoutes="true" tag="node_network_point" value="lcn" nameTag="lcn_ref" textOrder="37"/>

      <!--
      <apply_if minzoom="11" maxzoom="14" textSize="0">
        <apply_if textLength="3" textSize="0"/> 
      </apply_if>
      -->
      <apply_if minzoom="14" maxzoom="15" textSize="8">
        <apply_if textLength="5" textSize="6"/>
      </apply_if>
      <apply_if minzoom="16" textSize="12">
        <apply_if textLength="5" textSize="10"/>
      </apply_if>

      <apply>
        <switch>
          <case textLength="1"/>
          <case textLength="2"/>
          <case textLength="3"/>
          <case textLength="4"/>
          <case textLength="5"/>
          <apply_if minzoom="17" textShield="white_rounded_rectangle_5_road_shield"/>
        </switch> 
      </apply>
      <apply_if textColor="$cycleNodeTextColor"/>
      <apply_if engine_v1="true" textDy="2"/>
    </switch>
	</text>

	<point>

    <switch minzoom="17">
      <case tag="traffic_calming" value="bump" icon="traffic_calming_bump"/>
      <case tag="traffic_calming" value="hump" icon="traffic_calming_hump"/>
      <case tag="traffic_calming" value="cushion" icon="traffic_calming_cushion"/>
      <case tag="traffic_calming" value="choker" icon="traffic_calming_choker"/>
      <case tag="traffic_calming" value="chicane" icon="traffic_calming_chicane"/>
      <case tag="traffic_calming" value="island" icon="traffic_calming_island"/>
      <case tag="traffic_calming" value="table" icon="traffic_calming_table"/>
      <case tag="traffic_calming" value="rumble_strip" icon="traffic_calming_rumble_strip"/>
      <apply moreDetailed="true" shield="blue_square_shield">
        <apply_if nightMode="true" shield="blue_square_night_shield"/>
      </apply>
      <case minzoom="14" tag="tourism" value="camp_site" icon="topo_camp_site" shield="topo_camp_site_shield"/>
      <case minzoom="14" tag="tourism" value="viewpoint" icon="topo_viewpoint" shield="topo_viewpoint_shield" />
    </switch>

		<filter minzoom="11" icon="emergency_phone" tag="highway" value="emergency_access_point" nameTag="ref" />
		<filter minzoom="11" icon="tourism_information" tag="tourism" value="rcn_ref"/>
		<filter minzoom="11" icon="tourism_information" tag="tourism" value="fietsknooppunt"/>
		<filter minzoom="11" icon="tourism_information" tag="tourism" value="information"/>

	</point>

	<!-- PRIORITY Input to filter : tag, value, zoom [minzoom, maxzoom] -->
	<polygon>
		<!-- Forest, night color 000034 -->
		<group>
			<filter  minzoom="6" color="#aed1a0" tag="natural" value="wood"/>
			<filter  minzoom="6" color="#aed1a0" tag="landuse" value="wood"/>
			<filter  minzoom="6" maxzoom="14" color="#9DD57C" tag="landuse" value="forest"/>
			<filter  minzoom="15" shader="forest" tag="landuse" value="forest"/>
			<groupFilter nightMode="true" color="#000034" shader=""/>
		</group>

		<!-- Open nature, night color 004333 -->
		<group>
			<filter  minzoom="6" color="#FFCAFF" tag="natural" value="heath"/>
			<filter  minzoom="6" color="#cfeca8" tag="natural" value="grassland"/>
			<filter  minzoom="6" color="#FFE7FF" tag="natural" value="lava"/>
			<filter  minzoom="6" color="#FFF7BF" tag="natural" value="desert"/>
			<filter  minzoom="6" color="#f6e3c7" tag="landuse" value="farm"/>
			<filter  minzoom="6" color="#f6e3c7" tag="landuse" value="field"/>
			<filter  minzoom="6" color="#f6e3c7" tag="landuse" value="farmland"/>
			<filter  minzoom="6" color="#ddbf92" tag="landuse" value="farmyard"/>
			<filter  minzoom="6" color="#f9f2ec" tag="landuse" value="greenfield"/>
			<filter  minzoom="6" color="#cfeca8" tag="landuse" value="grass"/>
			<filter  minzoom="6" color="#cfeca8" tag="landuse" value="meadow"/>
			<filter  minzoom="6" color="#f9f2ec" tag="landuse" value="brownfield"/>
			<filter  minzoom="6" color="#cfeca8" tag="landuse" value="conservation"/>
			<filter  minzoom="6" color="#e1e1d0" tag="construction" value="yes"/>
			<filter  minzoom="6" color="#cfeca8" tag="landuse" value="recreation_ground"/>
			<filter  minzoom="6" color="#cfeca8" tag="landuse" value="village_green"/>
			<filter  minzoom="8" color="#b0b6fdb6" color_2="#9DB487" strokeWidth_2=":1" tag="natural" value="park"/>
			<filter  minzoom="8" color="#b0b6fdb6" color_2="#9DB487" strokeWidth_2=":1" tag="leisure" value="park"/>
			<filter  minzoom="8" color="#b5e3b5" color_2="#9DB487" strokeWidth_2=":1" tag="leisure" value="golf_course"/>
			<filter  minzoom="12" color="#74dcba" color_2="#888888" strokeWidth_2=":1" tag="leisure" value="track"/>
			<filter  minzoom="12" color="#8ad3af" color_2="#888888" strokeWidth_2=":1" tag="leisure" value="pitch"/>
			<filter  minzoom="12" color="#b0b6fdb6" tag="leisure" value="recreation_ground"/>
			<filter  minzoom="15" color="#ccfff1" tag="leisure" value="playground"/>
			<filter  minzoom="12" color="#cfeca8" tag="leisure" value="garden"/>
			<filter  minzoom="12" color="#cfeca8" tag="leisure" value="common"/>
			<filter  minzoom="12" color="#BDBDBD" tag="area:highway" value="pedestrian" textBold="false" textItalic="false"/>
			<filter  minzoom="12" color="#ffffff" tag="area:highway" value="service" textBold="false" textItalic="false"/>
			<filter  minzoom="12" color="#ffffff" tag="area:highway" value="unclassified" textBold="false" textItalic="false"/>
			<filter  minzoom="12" color="#ffffff" tag="area:highway" value="residential" textBold="false" textItalic="false"/>

			<!-- Define a lot of Mapnik cyclemap colors as well -->
			<filter minzoom="12" color="#f4f1ed" tag="natural" value="heath"/>
			<filter minzoom="12" color="#f4f1ed" tag="natural" value="grassland"/>
			<filter minzoom="12" color="#f4f1ed" tag="landuse" value="farm"/>
			<filter minzoom="12" color="#f4f1ed" tag="landuse" value="field"/>
			<filter minzoom="12" color="#f4f1ed" tag="landuse" value="farmland"/>
			<filter minzoom="12" color="#f4f1ed" tag="landuse" value="farmyard"/>
			<filter minzoom="12" color="#f4f1ed" tag="landuse" value="greenfield"/>
			<filter minzoom="12" color="#f4f1ed" tag="landuse" value="grass"/>
			<filter minzoom="12" color="#f4f1ed" tag="landuse" value="meadow"/>
			<filter minzoom="12" color="#f4f1ed" tag="landuse" value="brownfield"/>
			<filter minzoom="12" color="#f4f1ed" tag="landuse" value="recreation_ground"/>
			<filter minzoom="10" color="#f4f1ed" tag="landuse" value="conservation"/>
			<filter minzoom="12" color="#f4f1ed" tag="landuse" value="village_green"/>
			<filter minzoom="12" color="#b0b6fdb6" color_2="#f4f1ec" strokeWidth_2="1" tag="natural" value="park"/>
			<filter minzoom="12" color="#b0b6fdb6" color_2="#f4f1ec" strokeWidth_2="1" tag="leisure" value="park"/>
			<filter minzoom="12" color="#b5e3b5" color_2="#bce8b8" strokeWidth_2="1" tag="leisure" value="golf_course"/>
			<filter minzoom="12" color="#74dcba" color_2="#bce8b8" strokeWidth_2="1" tag="leisure" value="track"/>
			<filter minzoom="12" color="#8ad3af" color_2="#bce8b8" strokeWidth_2="1" tag="leisure" value="pitch"/>
			<filter minzoom="12" color="#f4f1ec" tag="leisure" value="recreation_ground"/>
			<filter minzoom="15" color="#f4f1ec" tag="leisure" value="playground"/>
			<filter minzoom="12" color="#f4f1ec" tag="leisure" value="garden"/>
			<filter minzoom="12" color="#f4f1ec" tag="leisure" value="common"/>
			<filter minzoom="11" maxzoom="14" color_2="#2d862d" strokeWidth_2="0.5" tag="leisure" value="nature_reserve"/>
			<filter minzoom="11" maxzoom="14" color_2="#2d862d" strokeWidth_2="0.5" tag="boundary" value="protected_area"/>
			<filter minzoom="15" color_2="#2d862d" strokeWidth_2="0" tag="leisure" value="nature_reserve"/>
			<filter minzoom="15" color_2="#2d862d" strokeWidth_2="0" tag="boundary" value="protected_area"/>

			<groupFilter nightMode="true" color="#004333"/>
		</group>

		<group>
			<filter  minzoom="10" maxzoom="15" color="#FFCA8B" tag="landuse" value="residential"/>
			<filter  minzoom="16" color="#D8F7BA" tag="landuse" value="residential"/>
			<filter  minzoom="16" color="#ffca8b" tag="building" value=""/>
		 	<filter  nightMode="true" minzoom="6" tag="natural" value="land" color="#D8F7BA"/>
			<filter  tag="natural" minzoom="6" value="land" color="#D8F7BA"/>
		</group>
		<filter minzoom="14" color="#f6eeb7" tag="amenity" value="bicycle_parking"/>

		<renderingAttribute name="landuseConstructionColor">
      <case nightMode="true" attrColorValue="#f5f5f0"/>
      <case moreDetailed="true" attrColorValue="#f5f5f0"/>
      <case attrColorValue="#e1e1d0"/>
		</renderingAttribute>
		<renderingAttribute name="landuseConstructionStrokeColor">
      <case nightMode="true" attrColorValue="#2d535c"/>
      <case attrColorValue="#666666"/>
		</renderingAttribute>

	</polygon>

	<line>

		<group>
			<filter tag="highway" value="cycleway" color="$cyclewayColor"/>
			<groupFilter>
				<filter minzoom="10" maxzoom="12" strokeWidth="0.5"/>
				<filter minzoom="13" maxzoom="13" strokeWidth="1"/> 
				<filter color_0="#808080">
					<filter minzoom="14" maxzoom="15" shadowRadius=":2" strokeWidth="2"/>
					<filter minzoom="15" maxzoom="16" shadowRadius=":2" strokeWidth="3"/>
					<filter minzoom="17" shadowRadius=":3" strokeWidth="4" />
					<groupFilter layer="-1" pathEffect="5_5" cap="BUTT"/>
					<!-- Bridges --> 
					<groupFilter layer="1" shadowRadius=":0" cap="SQUARE" cap_0="BUTT">
						<filter minzoom="14" maxzoom="14" strokeWidth_0="3:2"/>
						<filter minzoom="15" maxzoom="15" strokeWidth_0="5:2"/>
						<filter minzoom="16" maxzoom="16" strokeWidth_0="6:2"/>
						<filter minzoom="17" maxzoom="17" strokeWidth_0="8:2"/>
						<filter minzoom="18" strokeWidth_0="14:2"/>
						<groupFilter nightMode="true" color_0="#ffffff"/>
				 	</groupFilter>
				</filter>
				<groupFilter nightMode="true" color="#00ff00"/>
				<groupFilter minzoom="13" additional="construction=yes" color_0="#e1e1d0" color="#e1e1d0" pathEffect="5_2" />
				<groupFilter minzoom="14" additional="access=no" color="#80c2c2d6" color_3="#e1e1d0" pathEffect_3="5_1"/> 
				<groupFilter minzoom="14" additional="access=private" color="#80c2c2d6" color_3="#e1e1d0" pathEffect_3="5_1"/>
				<groupFilter minzoom="15" additional="bicycle=no" shadowRadius="1" color="#e0e0eb" color_3="#80000000" strokeWidth_3="1" pathEffect_3="5_5"/>
      </groupFilter>
		</group>

		<switch>
			<switch minzoom="12">
				<case tag="cycleway" value="lane"/>
				<case tag="cycleway" value="track"/>
				<case tag="cycleway:left" value="lane"/>
				<case tag="cycleway:right" value="lane"/>
				<case tag="cycleway" value="opposite_lane"/>
			</switch>
			<case minzoom="14" tag="cycleway" value="share_busway" strokeWidth="1:1" pathEffect="8_8"/>
			<case minzoom="16" tag="cycleway" value="opposite" strokeWidth="1:1" pathEffect="2_4"/>
			<apply color="$cyclewayColor" shadowRadius="0.5" strokeWidth="1" pathEffect="8_4"/>
		</switch>

    <!-- Put "plain" cycleway and cycleway tags first to make a default. Later lanes (left/right/both), lcn/rcn/ncn settings can overrule the default -->

		<!-- Copied from default render to enable multiple colors for cyclemap and OFM -->
		<group>
			<filter  tag="highway" value="motorway" color="#8389E1" color_0="#ff0000"/>
			<filter  tag="highway" value="motorway_link" color="#8389E1" color_0="#ff0000"/>
			<filter  tag="highway" value="trunk" color="#8389E1" color_0="#ff0000"/>
			<filter  tag="highway" value="trunk_link" color="#8389E1" color_0="#ff0000"/>
			<groupFilter>
				<filter minzoom="6" maxzoom="6" shadowRadius=":0" strokeWidth="1"/>
				<filter minzoom="7" maxzoom="8" shadowRadius=":0" strokeWidth="2"/>
				<filter minzoom="9" maxzoom="9" shadowRadius=":1" strokeWidth="3"/>
				<filter minzoom="10" maxzoom="10" shadowRadius=":1" strokeWidth="4"/>
				<filter minzoom="11" maxzoom="11" shadowRadius=":2" strokeWidth="5"/>
				<filter minzoom="12" maxzoom="12" shadowRadius=":2" strokeWidth="6"/>
				<filter minzoom="13" maxzoom="13" shadowRadius=":3" strokeWidth="6"/>
				<filter color_0="#808080">
					<filter minzoom="14" maxzoom="14" shadowRadius=":4" strokeWidth="7"/>
					<filter minzoom="15" maxzoom="15" shadowRadius=":4" strokeWidth="9"/>
					<filter minzoom="16" maxzoom="16" shadowRadius=":4" strokeWidth="12"/>
					<filter minzoom="17" maxzoom="17" shadowRadius=":4" strokeWidth="15"/>
					<filter minzoom="18" shadowRadius=":4" strokeWidth="24"/>
					<groupFilter layer="-1" pathEffect="4_4" cap="BUTT"/>
					<!-- Bridges -->
					<groupFilter layer="1" color_0="#808080" shadowRadius=":0" cap="SQUARE" cap_0="BUTT">
						<filter minzoom="14" maxzoom="14" strokeWidth_0="9:2"/>
						<filter minzoom="15" maxzoom="15" strokeWidth_0="11:2"/>
						<filter minzoom="16" maxzoom="16" strokeWidth_0="14:2"/>
						<filter minzoom="17" maxzoom="17" strokeWidth_0="17:2"/>
						<filter minzoom="18" strokeWidth_0="24:2"/>
						<groupFilter nightMode="true" color_0="#ffffff"/>
					</groupFilter>
				</filter>
			</groupFilter>
		</group>

		<group>
			<filter  tag="highway" value="secondary" color="#ffca00" color_0="#ff0000"/>
			<filter  tag="highway" value="secondary_link" color="#ffca00" color_0="#ff0000"/>
			<filter  tag="highway" value="primary" color="#b4b4b4" color_0="#ff0000"/>
			<filter  tag="highway" value="primary_link" color="#b4b4b4" color_0="#ff0000"/>
			<groupFilter>
				<filter minzoom="6" maxzoom="6" shadowRadius=":0" strokeWidth="1"/>
				<filter minzoom="7" maxzoom="8" shadowRadius=":0" strokeWidth="2"/>
				<filter minzoom="9" maxzoom="9" shadowRadius=":1" strokeWidth="3"/>
				<filter minzoom="10" maxzoom="10" shadowRadius=":1" strokeWidth="4"/>
				<filter minzoom="11" maxzoom="11" shadowRadius=":2" strokeWidth="5"/>
				<filter minzoom="12" maxzoom="12" shadowRadius=":2" strokeWidth="6"/>
				<filter minzoom="13" maxzoom="13" shadowRadius=":3" strokeWidth="6"/>
				<filter color_0="#808080">
					<filter minzoom="14" maxzoom="14" shadowRadius=":4" strokeWidth="7"/>
					<filter minzoom="15" maxzoom="15" shadowRadius=":4" strokeWidth="9"/>
					<filter minzoom="16" maxzoom="16" shadowRadius=":4" strokeWidth="12"/>
					<filter minzoom="17" maxzoom="17" shadowRadius=":4" strokeWidth="15"/>
					<filter minzoom="18" shadowRadius=":4" strokeWidth="24"/>
					<groupFilter layer="-1" pathEffect="4_4" cap="BUTT"/>
					<!-- Bridges -->
					<groupFilter layer="1" color_0="#808080" shadowRadius=":0" cap="SQUARE" cap_0="BUTT">
						<filter minzoom="14" maxzoom="14" strokeWidth_0="9:2"/>
						<filter minzoom="15" maxzoom="15" strokeWidth_0="11:2"/>
						<filter minzoom="16" maxzoom="16" strokeWidth_0="14:2"/>
						<filter minzoom="17" maxzoom="17" strokeWidth_0="17:2"/>
						<filter minzoom="18" strokeWidth_0="24:2"/>
						<groupFilter nightMode="true" color_0="#ffffff"/>
					</groupFilter>
				</filter>
				<groupFilter minzoom="15" additional="bicycle=no" shadowRadius="1" color="#b3b3cc" color_3="#80000000" strokeWidth_3="1" pathEffect_3="5_5"/>
			</groupFilter>
		</group>
		<group>
			<filter  tag="highway" value="tertiary" color="#ffff6a"/>
			<filter  tag="highway" value="tertiary_link" color="#ffff6a"/>
			<groupFilter>
				<!-- Too many in Europe? Use only with hmRendered for now -->
				<filter minzoom="10" maxzoom="10" shadowRadius=":1" strokeWidth="1"/>
				<filter minzoom="11" maxzoom="11" shadowRadius=":1" strokeWidth="2"/>
				<filter minzoom="12" maxzoom="12" shadowRadius=":1" strokeWidth="3"/>
				<filter minzoom="13" maxzoom="13" shadowRadius=":2" strokeWidth="4"/>
				<filter color_0="#808080">
					<filter minzoom="14" maxzoom="14" shadowRadius=":2" strokeWidth="6"/>
					<filter minzoom="15" maxzoom="15" shadowRadius=":3" strokeWidth="8"/>
					<filter minzoom="16" maxzoom="16" shadowRadius=":3" strokeWidth="10"/>
					<filter minzoom="17" maxzoom="17" shadowRadius=":3" strokeWidth="13"/>
					<filter minzoom="18" shadowRadius=":3" strokeWidth="18"/>
					<groupFilter layer="-1" pathEffect="4_4" cap="BUTT"/>
					<!-- Bridges --> 
					<groupFilter layer="1" shadowRadius=":0" cap="SQUARE" cap_0="BUTT">
						<filter minzoom="14" maxzoom="14" strokeWidth_0="6:2"/>
						<filter minzoom="15" maxzoom="15" strokeWidth_0="8:2"/>
						<filter minzoom="16" maxzoom="16" strokeWidth_0="10:2"/>
						<filter minzoom="17" maxzoom="17" strokeWidth_0="13:2"/>
						<filter minzoom="18" strokeWidth_0="18:2"/>
						<groupFilter nightMode="true" color_0="#ffffff"/>
			 		</groupFilter>
				</filter>
				<groupFilter minzoom="15" additional="bicycle=no" shadowRadius="1" color="#e6e600" color_3="#80000000" strokeWidth_3="1" pathEffect_3="5_5"/>
				<groupFilter minzoom="10" additional="cyclestreet=yes" shadowRadius=":0" color="#ff8080" color_3="#ffe6e6" strokewidth_3="1" pathEffect_3="50_0"/>
				<groupFilter minzoom="10" additional="bicycle_road=yes" shadowRadius=":0" color="#ff8080" color_3="#ffe6e6" strokewidth_3="1" pathEffect_3="50_0"/>
			</groupFilter>
		</group>
		<group>
			<filter  tag="highway" value="unclassified" color="#ffffff"/>
			<filter  tag="highway" value="residential" color="#ffffff"/>
			<groupFilter>
				<filter color_0="#808080">
					<filter minzoom="12" maxzoom="12" shadowRadius=":1" strokeWidth="1"/>
					<filter minzoom="13" maxzoom="13" shadowRadius=":2" strokeWidth="2"/>
					<filter minzoom="14" maxzoom="14" shadowRadius=":2" strokeWidth="3"/>
					<filter minzoom="15" maxzoom="15" shadowRadius=":2" strokeWidth="5"/>
					<filter minzoom="16" maxzoom="16" shadowRadius=":2" strokeWidth="8"/>
					<filter minzoom="17" maxzoom="17" shadowRadius=":3" strokeWidth="10"/>
					<filter minzoom="18" shadowRadius=":3" strokeWidth="14"/>
					<groupFilter layer="-1" pathEffect="4_4" cap="BUTT"/>
					<!-- Bridges --> 
					<groupFilter layer="1" shadowRadius=":0" cap="SQUARE" cap_0="BUTT">
						<filter minzoom="14" maxzoom="14" strokeWidth_0="6:2"/>
						<filter minzoom="15" maxzoom="15" strokeWidth_0="8:2"/>
						<filter minzoom="16" maxzoom="16" strokeWidth_0="10:2"/>
						<filter minzoom="17" maxzoom="17" strokeWidth_0="13:2"/>
						<filter minzoom="18" strokeWidth_0="14:2"/>
						<groupFilter nightMode="true" color_0="#ffffff"/>
			 		</groupFilter>
				</filter>
				<groupFilter minzoom="12" additional="bicycle=no" shadowRadius="1" color="#ffffff" color_3="#80000000" strokeWidth_3="1" pathEffect_3="5_5"/>
			</groupFilter>
		</group>
		<group>
			<filter tag="highway" value="pedestrian"/>
			<groupFilter color="#BDBDBD" shadowRadius=":1" cap="ROUND">
				<filter minzoom="13" maxzoom="13" strokeWidth="1"/>
				<filter color_0="#808080">
					<filter minzoom="14" maxzoom="14" strokeWidth="2"/>
					<filter minzoom="15" maxzoom="15" shadowRadius=":2" strokeWidth="3"/>
					<filter minzoom="16" maxzoom="16" shadowRadius=":2" strokeWidth="4"/>
					<filter minzoom="17" maxzoom="17" shadowRadius=":2" strokeWidth="6"/>
					<filter minzoom="18" shadowRadius=":2" strokeWidth="9"/>
					<groupFilter layer="-1" pathEffect="4_4" cap="BUTT"/>
					<!-- Bridges --> 
					<groupFilter layer="1" shadowRadius=":0" cap="SQUARE" cap_0="BUTT">
						<filter minzoom="14" maxzoom="14" strokeWidth_0="2:2"/>
						<filter minzoom="15" maxzoom="15" strokeWidth_0="3:2"/>
						<filter minzoom="16" maxzoom="16" strokeWidth_0="4:2"/>
						<filter minzoom="17" maxzoom="17" strokeWidth_0="6:2"/>
						<filter minzoom="18" strokeWidth_0="9:2"/>
						<groupFilter nightMode="true" color_0="#ffffff"/>
			 		</groupFilter>
				</filter>
				<groupFilter minzoom="15" additional="bicycle=no" shadowRadius="1" color="#e0e0eb" color_3="#80000000" strokeWidth_3="1" pathEffect_3="5_5" cap="BUTT"/>
				<groupFilter minzoom="14" additional="bicycle=yes" color="#BDBDBD" color_3="#ff0000" cap="BUTT"/>
				<groupFilter minzoom="14" additional="bicycle=designated" color="#ff0000" color_3="#BDBDBD" cap="BUTT"/>
			</groupFilter>
			<!-- pedestrian roads are forbidden for cars and cyclists: show them like that in car and bicycle mode -->
			<groupFilter appMode="car" tag="highway" value="pedestrian" color="#F7D4D4"/>
			<!-- <groupFilter appMode="bicycle" tag="highway" value="pedestrian" color="#F7D4D4"/> -->
		</group>

		<!-- Next segment: Highways without grade distinction (cycleway, bridleway, black path): pathEffect 4_2. Base setting for highways with possible grade distinction but none specified (track, byway, red footway): 5_5 -->
		<group>
			<!-- byway is deprecated tag, describes UK-only road. Proper tag should be highway=track or highway=path -->
			<filter tag="highway" value="byway" color="#996600" pathEffect="5_5">
				<filter appMode="pedestrian" test="$hmRendered" minzoom="14" strokeWidth="2"/>
				<filter appMode="pedestrian" minzoom="15" strokeWidth="2"/>
				<filter appMode="bicycle" minzoom="14" strokeWidth="2"/>
				<filter test="$hmRendered" minzoom="12" maxzoom="12" strokeWidth="0.5"/>
				<filter test="$hmRendered" minzoom="13" strokeWidth="1"/>
				<filter minzoom="14" strokeWidth="1"/>
			</filter>
			<groupFilter appMode="bicycle" minzoom="15" additional="bicycle=no" color_3="#FFD1FF" strokeWidth_3="2" pathEffect_3="4_2"/>

      <group>
        <filter tag="highway" value="footway" minzoom="14" maxzoom="14" strokeWidth="0.5" pathEffect="4_2" color="#585858"/>
        <filter tag="highway" value="footway" minzoom="15" maxzoom="15" strokeWidth="1" pathEffect="4_2" color="#585858"/>
        <filter tag="highway" value="footway" minzoom="16" strokeWidth="2" pathEffect="4_2" color="#585858"/>
        <groupFilter minzoom="15">
          <filter additional="surface=paved" color="#BDBDBD" shadowRadius=":1" cap="ROUND" strokeWidth="3" pathEffect=""/>
          <filter additional="surface=asphalt" color="#BDBDBD" shadowRadius=":1" cap="ROUND" strokeWidth="3" pathEffect=""/>
          <filter additional="surface=paving_stones" color="#BDBDBD" shadowRadius=":1" cap="ROUND" strokeWidth="3" pathEffect=""/>
          <filter additional="surface=paving_stones:30" color="#BDBDBD" shadowRadius=":1" cap="ROUND" strokeWidth="3" pathEffect=""/>
          <filter additional="surface=concrete" color="#BDBDBD" shadowRadius=":1" cap="ROUND" strokeWidth="3" pathEffect=""/>
        </groupFilter>
      </group>

      <group>
				<filter tag="highway" value="track" minzoom="13" maxzoom="14" strokeWidth="1" pathEffect="4_2" color="$trackColor"/>
				<filter tag="highway" value="track" minzoom="15" maxzoom="15" strokeWidth="2" pathEffect="4_2" color="$trackColor"/>
				<filter tag="highway" value="track" minzoom="16" strokeWidth="3" pathEffect="4_2" color="$trackColor"/>
				<groupFilter>
          <filter additional="tracktype=grade1" minzoom="13" maxzoom="13" color="$trackColor" strokeWidth=":1" pathEffect=""/>
          <filter additional="tracktype=grade1" minzoom="14" maxzoom="14" color="#FFFFFF" shadowRadius=":1" strokeWidth="2" pathEffect=""/>
          <filter additional="tracktype=grade1" minzoom="15" color="#FFFFFF" shadowRadius=":2" strokeWidth="3" pathEffect=""/>
				</groupFilter>
      </group>

      <group>
				<filter tag="highway" value="path" minzoom="14" maxzoom="14" strokeWidth="0.5" pathEffect="4_2" color="#585858"/>
				<filter tag="highway" value="path" minzoom="15" maxzoom="15" strokeWidth="1" pathEffect="4_2" color="#585858"/>
				<filter tag="highway" value="path" minzoom="16" strokeWidth="2" pathEffect="4_2" color="#585858"/>
				<groupFilter minzoom="15">
          <!-- <filter additional="bicycle=designated" color="#FF0000" shadowRadius=":1" cap="ROUND" strokeWidth="4" pathEffect=""/> -->
          <filter additional="surface=paved"  color="#BDBDBD" shadowRadius=":1" cap="ROUND" strokeWidth="4" pathEffect=""/>
          <filter additional="surface=asphalt"  color="#BDBDBD" shadowRadius=":1" cap="ROUND" strokeWidth="4" pathEffect=""/>
          <filter additional="surface=paving_stones" color="#BDBDBD" shadowRadius=":1" cap="ROUND" strokeWidth="4" pathEffect=""/>
          <filter additional="surface=paving_stones:30" color="#BDBDBD" shadowRadius=":1" cap="ROUND" strokeWidth="4" pathEffect=""/>
          <filter additional="surface=concrete" color="#BDBDBD" shadowRadius=":1" cap="ROUND" strokeWidth="4" pathEffect=""/>
				</groupFilter>
      </group>
		
			<filter tag="highway" value="steps" color="#fa5073" pathEffect="1_2">
				<filter appMode="pedestrian" test="$hmRendered" minzoom="14" strokeWidth="4" pathEffect="2_2"/>
				<filter appMode="pedestrian" minzoom="15" strokeWidth="4" pathEffect="2_2"/>
				<filter test="$hmRendered" minzoom="14" strokeWidth="4"/>
				<filter minzoom="16" strokeWidth="4"/>
			</filter>

			<group>
				<filter  tag="highway" value="bridleway" color="#bd9500" pathEffect="2_2"/>
				<groupFilter>
					<filter minzoom="12" maxzoom="12" strokeWidth="1"/>
					<filter minzoom="13" strokeWidth="2"/>
					<filter minzoom="16" strokeWidth="3"/>
				</groupFilter>
			</group>

			<!-- Bridges -->
			<groupFilter layer="1">
				<filter nightMode="true" minzoom="14" color__1="#ffffff" strokeWidth__1="4:2.5" color_0="#000000" strokeWidth_0="4:1"/>
				<filter minzoom="14" color__1="#000000" strokeWidth__1="4:2.5" color_0="#ffffff" strokeWidth_0="4:1"/>
			</groupFilter>
			<!-- Tunnels -->
			<groupFilter layer="-1">
				<filter nightMode="true" minzoom="14" color__1="#ffffff" strokeWidth__1="4:2.5" pathEffect__1="3_3" color_0="#000000" strokeWidth_0="4:1"/>
				<filter minzoom="14" color__1="#000000" strokeWidth__1="4:2.5" pathEffect__1="3_3" color_0="#ffffff" strokeWidth_0="4:1"/>
			</groupFilter>
		</group>

		<group>
			<filter  appMode="bicycle" tag="lcn_network" value="lcn" color="#80cc33ff" pathEffect="10_6"/> 
			<filter  appMode="bicycle" tag="rcn_network" value="rcn" color="#800000ff" pathEffect="10_6"/>
			<filter  appMode="bicycle" tag="ncn_network" value="ncn" color="#809933ff" pathEffect="10_6"/>
			<filter  appMode="bicycle" tag="icn_network" value="icn" color="#809933ff" pathEffect="10_6"/>
			<groupFilter shadowRadius=":1" cap="BUTT">
				<filter  minzoom="10" maxzoom="12" strokeWidth="1" strokeWidth_2="1:2"/>
				<filter  minzoom="13" maxzoom="13" strokeWidth="4" strokeWidth_2="2:2"/>
				<filter color_0="#000000">
					<filter  minzoom="14" maxzoom="14" strokeWidth="4" strokeWidth_2="4:2"/>
					<filter  minzoom="15" strokeWidth="5" strokeWidth_2="5:2"/>
				</filter>
			</groupFilter>
		</group>

    <switch minzoom="11">
			<switch>
				<case showCycleRoutes="true" tag="route_bicycle" value=""/>
				<case showCycleNodeNetworkRoutes="true" tag="route_bicycle" value=""/>
				<apply>
					<case maxzoom="10" strokeWidth="1" pathEffect="3_6"/>
					<case maxzoom="11" strokeWidth="1" pathEffect="3_6"/>
					<case maxzoom="12" strokeWidth="1" pathEffect="3_6"/>
					<case maxzoom="13" strokeWidth="2" pathEffect="3_6"/>
					<case maxzoom="14" strokeWidth="3:3" pathEffect="10_6"/>
					<case maxzoom="15" strokeWidth="3:3" pathEffect="10_6"/>
					<case maxzoom="16" strokeWidth="3:3" pathEffect="10_6"/>
					<case maxzoom="17" strokeWidth="3:3" pathEffect="10_6"/>
					<case minzoom="18" strokeWidth="3:3" pathEffect="10_6"/>
				</apply>
				<apply_if minzoom="13" color="$cycleRouteColor" cap="BUTT"/>
			</switch>
			<apply_if showCycleNodeNetworkRoutes="true">
				<switch>
					<case additional="node_network=lcn" color="$cycleRoutelcnColor"/>
					<case additional="node_network=rcn" color="$cycleRoutercnColor"/>
					<case additional="node_network=ncn" color="$cycleRoutencnColor"/>
					<case additional="node_network=icn" color="$cycleRouteicnColor"/>
					<apply>
						<case maxzoom="10" strokeWidth="1:1" pathEffect="5_5"/>
						<case maxzoom="11" strokeWidth="1:1" pathEffect="5_5"/>
						<case maxzoom="12" strokeWidth="2:2" pathEffect="5_5"/>
						<case maxzoom="13" strokeWidth="3:3" pathEffect="5_5"/>
						<case maxzoom="14" strokeWidth="4:4" pathEffect="5_5"/>
						<case maxzoom="15" strokeWidth="4:4" pathEffect="5_5"/>
						<case maxzoom="16" strokeWidth="5:5" pathEffect="5_5"/>
						<case maxzoom="17" strokeWidth="6:6" pathEffect="5_5"/>
						<case minzoom="18" strokeWidth="7:7" pathEffect="5_5"/>
					</apply>
				</switch>
			</apply_if>
			<apply_if showCycleRoutes="true">
				<switch>
					<case additional="network=lcn" color="$cycleRoutelcnColor"/>
					<case additional="network=rcn" color="$cycleRoutercnColor"/>
					<case additional="network=ncn" color="$cycleRoutencnColor"/>
					<case additional="network=icn" color="$cycleRouteicnColor"/>
					<apply pathEffect="">
            <case maxzoom="10" strokeWidth="1" pathEffect="3_6"/>
            <case maxzoom="11" strokeWidth="1" pathEffect="3_6"/>
            <case maxzoom="12" strokeWidth="1" pathEffect="3_6"/>
            <case maxzoom="13" strokeWidth="2" pathEffect="3_6"/>
            <case maxzoom="14" strokeWidth="3:3" pathEffect="10_6"/>
            <case maxzoom="15" strokeWidth="3:3" pathEffect="10_6"/>
            <case maxzoom="16" strokeWidth="3:3" pathEffect="10_6"/>
            <case maxzoom="17" strokeWidth="3:3" pathEffect="10_6"/>
            <case minzoom="18" strokeWidth="3:3" pathEffect="10_6"/>
					</apply>
				</switch>
			</apply_if>
		</switch>

		<!-- Copy "Group of all Waterways with same color"; Remove pathEffect from default render xml -->
		<group>
			<filter tag="waterway" value="stream" minzoom="12" strokeWidth="2">
				<filter layer="-1" strokeWidth="3" disable="true"/>
			</filter>
			<filter tag="waterway" value="dam" minzoom="13" strokeWidth="2"/>

			<group>
				<filter tag="waterway" value="river"/>
				<filter tag="waterway" value="canal"/>
				<groupFilter>
					<filter layer="-1"  disable="true"/>
					<filter minzoom="5" maxzoom="9" strokeWidth="1"/>
					<filter minzoom="10" maxzoom="12" strokeWidth="2"/>
					<filter minzoom="13" maxzoom="13" strokeWidth="3"/>
					<filter minzoom="14" maxzoom="14" strokeWidth="5"/>
					<filter minzoom="15" maxzoom="16" strokeWidth="6"/>
					<filter minzoom="17" maxzoom="17" strokeWidth="10"/>
					<filter minzoom="18" strokeWidth="12"/>
				</groupFilter>
			</group>

			<group>
				<filter tag="waterway" value="ditch"/>
				<filter tag="waterway" value="drain"/>
				<groupFilter>
					<filter layer="-1" disable="true"/>
					<filter minzoom="13" maxzoom="14" strokeWidth="1"/>
					<filter minzoom="15" strokeWidth="3"/>
				</groupFilter>
			</group>
			<!-- Waterway color -->
			<groupFilter color="$waterColorDay">
				<filter nightMode="true" color="#330099"/>
			</groupFilter>
		</group>

	</line>

</renderingStyle>

